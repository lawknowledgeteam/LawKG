<!DOCTYPE html>
<html lang="en" xmlns:th="http://www.thymeleaf.org">
<head>
    <meta http-equiv="content-type" content="text/html; charset=UTF-8">
    <meta charset="utf-8">
    <title>法律知识图谱</title>

    <link rel="stylesheet" type="text/css" href="/web_pc/css/index_layout.css">

    <link rel="shortcut icon" href="https://www.baidu.com/favicon.ico" type="image/x-icon">
    <!--<meta http-equiv="X-UA-Compatible" content="IE=edge">-->
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <meta name="keywords" content="智能法律检索、案例检索、法律法规检索、智能判案、智能量刑、文书自动生成、智能法律问答">
    <link href="/static/web_pc/css/chunk-common.css" rel="preload" as="style">

    <link href="/static/web_pc/css/chunk-vendors.css" rel="preload" type="text/css">
    <link href="/static/web_pc/css/index.css" rel="preload" type="text/css">
    <link href="/static/web_pc/js/chunk-common.js" rel="preload" >
    <link href="/static/web_pc/js/chunk-vendors.js" rel="preload" >
    <link href="/static/web_pc/js/index.js" rel="preload" >
    <link href="/static/web_pc/css/chunk-vendors.css" rel="stylesheet" type="text/css">
    <link href="/static/web_pc/css/chunk-common.css" rel="stylesheet" type="text/css">
    <link href="/static/web_pc/css/index.css" rel="stylesheet" type="text/css">
    <link rel="stylesheet" href="/static/web_pc/css/chunk-common.css" type="text/css">

    <link rel="stylesheet" type="text/css" href="/static/web_pc/css/navigator/LeftNav.css">
    <link rel="stylesheet" type="text/css" href="/static/web_pc/css/flip.css">
    <link rel="stylesheet" type="text/css" href="/static/web_pc/css/result.css">
    <script src="/static/web_pc/js/navigator/jquery.min.js"></script>
    <script src="/static/web_pc/js/echarts.min.js"></script>
    <style type="text/css">
        html, body {
            height: 100%;
            width: 100% ;
            margin: auto;
            padding: auto
        }
        #main{
            height: 400px; width: 500px ; margin: auto; padding: 0
        }
    </style>
</head>
<body>
<noscript>
    <style>.noscript {
        display: inline-block;
        width: 100%;
        font-size: 16px;
        text-align: center;
    }</style>
</noscript>

<div class="home-result c-font-normal">


    <!--logo方案2：-->
    <div id="menu" class="login-bar">
        <img class="logo" src="/web_pc/images/logo.png" height="62" width="62" alt="logo"/>
        <ul id="nav">
            <li><a href="#">首页</a></li>
            <li><a href="">关于我们</a></li>
            <li><a href="">下载APP</a></li>
            <li><a href="">加入我们</a></li>
            <li id = "user"><a href=""> </a></li>
            <li><a onclick="quit()">退出</a></li>
        </ul>
    </div>
    <div class="main-wrap-result home-search-wrap-result">
        <div class="home-search-mark-result"></div>
    </div>
    <footer data-v-15fbc661="" class="footer-result">
        <!--        这里为网页主体部分，分两栏-->
        <div data-v-15fbc661="" class="footer-middle-result">

            <div class="product-content-result">
                <!--unit-box1-->
                <div class="unit unit-box3" id="content">
<!--                    &lt;!&ndash;以下是案件题目&ndash;&gt;-->
<!--                    <h4>test-title</h4>-->
<!--                    &lt;!&ndash;以下是案件详情描述&ndash;&gt;-->
<!--                    <div class="case-text">-->
<!--                        <span id="details">-->
<!--                        </span>-->
<!--                    </div>-->
<!--                    &lt;!&ndash;以下是案件知识图谱&ndash;&gt;-->
<!--                    <div id="main" style=""></div>-->
                </div>
                <!--unit-box2-->
                <div class="box_right" >
                    <div class="case-infos" id="infos">
<!--                        <p>一审判决书 ：广西壮族自治区钦州市中级人民法院（1994）钦刑初字第22号</p>-->
                    </div>
                    <div class="unit unit-box4">
                        <span>这里是相关案例推荐</span>
                    </div>
                </div>


            </div>
            <!--product-content-->

        </div>

    </footer>
</div>


<script type="text/javascript">
    function  show_graph() {
        var myChart = echarts.init(document.getElementById('main'));
        option = {
            title: { text: '关系图谱' },
            tooltip: {
                formatter: function (x) {
                    return x.data.des;
                }
            },
            series: [
                {
                    type: 'graph',
                    layout: 'force',
                    symbolSize: 80,
                    roam: true,
                    edgeSymbol: ['circle', 'arrow'],
                    edgeSymbolSize: [4, 10],
                    edgeLabel: {
                        normal: {
                            textStyle: {
                                fontSize: 20
                            }
                        }
                    },
                    force: {
                        repulsion: 2500,
                        edgeLength: [10, 50]
                    },
                    draggable: true,
                    itemStyle: {
                        normal: {
                            color: '#4b565b'
                        }
                    },
                    lineStyle: {
                        normal: {
                            width: 2,
                            color: '#4b565b'

                        }
                    },
                    edgeLabel: {
                        normal: {
                            show: true,
                            formatter: function (x) {
                                return x.data.name;
                            }
                        }
                    },
                    label: {
                        normal: {
                            show: true,
                            textStyle: {
                            }
                        }
                    },
                    data: [
                        {
                            name: 'A',
                            des: '',
                            symbolSize: 50,
                            itemStyle: {
                                normal: {
                                    color: 'red'
                                }
                            }
                        },
                        {
                            name: 'B',
                            des: '',
                            symbolSize: 50,
                            itemStyle: {
                                normal: {
                                    color: 'red'
                                }
                            }
                        }
                    ],
                    links: [
                        {
                            source: 'A',
                            target: 'B',
                            name: 'test',
                            des: 'test'
                        }
                    ]
                }
            ]
        };
        myChart.setOption(option);
    }
</script>

<script>
    //获取url参数
    function getQueryString(name) {
        var reg = new RegExp("(^|&)" + name + "=([^&]*)(&|$)", "i");
        var r = window.location.search.substr(1).match(reg);
        if (r != null) return unescape(r[2]);
        return null;
    }


    var page = 1;
    function infosResult() {
        var name = 'caseId';
        var url = "/LawCaseNode/getInfoRelation?caseId="+getQueryString(name);
        $.ajax({
            url: url,//url地址
            dataType: 'json',
            type: 'get',
            async: false,
            data: {},
            success: function (data) {
                console.log("获取数据")
                console.log(data.length)
                console.log(data)
                var res = "";
                // for(var i=0;i<data.length;i++){
                //
                // }
                res += '<p>'+data[2].caseFont+'</p>';
                res += '<p>时间：'+data[2].trialDate+'</p>';

                $("#infos").html(res);
            }

        })
    }
    var page = 1;
    function detailResult() {
        var name = 'caseId';
        var url = "/LawCaseNode/getInfoRelation?caseId=" + getQueryString(name);
        $.ajax({
            url: url,//url地址
            dataType: 'json',
            type: 'get',
            async: false,
            data: {},
            success: function (data) {
                console.log("获取数据")
                console.log(data.length)
                console.log(data)
                var res = "";
                res += '<h4>' + data[2].lawCase + '</h4>';
                res += '<div class="case-text">';
                res += '<span id="details">';
                res += '<p>' + data[2].caseView + '</p>';
                res += '</div>';
                res += '<div id="main" style=""></div>';
                $("#content").html(res);
                show_graph();
            }

        })
    }

</script>

<script>
    function showInfoBySession() {
        var url ='/user/getUser';
        var loginName = '';
        $.ajax({
            url: url,//url地址
            dataType: 'json',
            type: 'get',
            async: false,
            data: {
                loginName:loginName,
            },
            success: function (data) {
                $("#user").html(data.loginName);
            }
        })
    }

    function quit() {
        var url = '/user/outLogin';
        var code = '';
        $.ajax({
            url: url,//url地址
            dataType: 'json',
            type: 'post',
            async: false,
            data: {
            },
            success: function (data) {

            }
        })
        window.location.href="/login";
    }
</script>





<script type="text/javascript">
    //页面加载初始化
    window.onload = function(){
        showInfoBySession();
        infosResult();
        detailResult();
    }
</script>

<script>function IEVersion() {
    var userAgent = navigator.userAgent; //取得浏览器的userAgent字符串
    var isIE = userAgent.indexOf('compatible') > -1 && userAgent.indexOf('MSIE') > -1; //判断是否IE<11浏览器
    var isEdge = userAgent.indexOf('Edge') > -1 && !isIE; //判断是否IE的Edge浏览器
    var isIE11 = userAgent.indexOf('Trident') > -1 && userAgent.indexOf('rv:11.0') > -1;
    if (isIE) {
        var reIE = new RegExp('MSIE (\\d+\\.\\d+);');
        reIE.test(userAgent);
        var fIEVersion = parseFloat(RegExp['$1']);
        if (fIEVersion === 7) {
            return 7;
        } else if (fIEVersion === 8) {
            return 8;
        } else if (fIEVersion === 9) {
            return 9;
        } else if (fIEVersion === 10) {
            return 10;
        } else {
            return 6;//IE版本<=7
        }
    } else if (isEdge) {
        return 'edge';//edge
    } else if (isIE11) {
        return 11; //IE11
    } else {
        return -1;//不是ie浏览器
    }
}



var ieVersion = IEVersion();
if (ieVersion > -1 && ieVersion < 9) {
    location.href = '/static/law/desktop/sorry.html';
}</script>
<script>/* eslint-disable */
var _hmt = _hmt || [];
(function () {
    var hm = document.createElement('script');
    hm.src = 'https://hm.baidu.com/hm.js?ac8fb11c31cd3cf585523fd58e170e95';
    var s = document.getElementsByTagName('script')[0];
    s.parentNode.insertBefore(hm, s);
})();
/* eslint-enable */</script>
</body>
</html>